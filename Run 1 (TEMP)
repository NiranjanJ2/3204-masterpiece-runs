from pybricks.hubs import PrimeHub
from pybricks.pupdevices import Motor, ColorSensor, UltrasonicSensor, ForceSensor
from pybricks.parameters import Button, Color, Direction, Port, Side, Stop
from pybricks.robotics import DriveBase
from pybricks.tools import wait, StopWatch

hub = PrimeHub()
dt=DriveBase(Motor(Port.E, Direction.COUNTERCLOCKWISE), Motor(Port.A),56,83.75)
dt.settings(5000,200,1000,200)
dt.heading_control.pid(900,2,400,2,5)
dt.distance_control.pid(1000,0,0,0,0)
realtimeX=0
realtimeY=0
def coordSys(desiredX,desiredY,currentX,currentY):
    errorX=desiredX-currentX
    errorY=desiredY-currentY
    cm=1/(176/360)
    dist=math.sqrt(errorX**2+errorY**2)*cm
    degrees=math.degrees(math.asin(errorX/dist))

    if errorY<0:
        if errorX<0:
            degrees=-180-degrees
        if errorX>0:
            degrees=180-degrees
    dt.turn(degrees)
    dt.straight(dist)
dt.straight(520) #goes forward to push in printer
dt.straight(-50) #backs out to turn
dt.turn(45) # turns to go to stage
dt.straight(30) #goes to stage
dt.turn(50) # turns to position to stage
dt.straight(180) #pushes in stage
dt.straight(-220) #backs out
dt.turn(-90)# turns to go to aug
dt.straight(150) # goes aug reality mission
dt.turn(-5)
dt.straight(300)
dt.turn(40)
dt.straight(-150)
dt.turn(95)
dt.straight(15)
